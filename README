GO-JEK Assessment - Api Response Comparator


Problem Statement - 

To compare the Api responses generated by the respective Api requests from 2 different files.


Steps to execute the solution set :-

1. Have already placed the 2 input files with list of API end-point URIs to be compared, with file-paths provided in the setUp method of the Test class.
2. Maven build the project using the following maven goal to get the required dependencies and to compile and invoke the test :-

Maven Command - mvn clean test -DsuiteXmlFile=testng.xml

or 

1. Provided is the Windows executable .cmd file (run.cmd). Please invoke the same.




Approach :-
To fetch the respective end-point uri's to be compared from both files per line basis and simultaneously fetch the response for both and compare the same to avoid, the multiple references to the external file and also optimizing the storage memory for the number of Urls that need to be compared, as the variables required to do the storage and comparsion will be minimum and of local scope , so as to make the memory occupied by the objects and the variables unreferenced after every single comparison and allow the memory to be garbage collected if and when required.



Solution Code Structure basis :

1. Set up connection with the end-point URIs , the response for which needs to be compared, taking care of both the types of communication protocols (http,https).

Class - com.gojekassessment.connection.Connection

Method - connect(String url) - To connect to the given endpoint Url( both http/https).

Referenced methods - 
getHttpsConnection(String url, String methodType) - For connection to secured https urls, 

getHttpConnection(String url, String methodType) - For connection to standard http urls.



2. To request the response from the connected end-point uri.

Class - com.gojekassessment.connection.Connection

Method - readResponseHttp(HttpURLConnection conn) - To request the response from the API end point uri.



3. To fetch the endpoint Uri line by line, from both the provided file containing the list of same, to be passed as parameter to the above mentioned connect(String url) method and simultaneously compare the response and print the result.

Class - com.gojekassessment.comparator.APIComparator

Method - 

getData(File, File) -  To read the urls line by line and to simultaneously pass it as parameter to compare(String, String) method

compare(String, String) - To compare the received JSON/XMl response strings as parameter and compare and print the results.



4. To test the solution set by providing the required input test data and invoking the execution.

Class - com.gojekassessment.Test.TestApiComparator

Test Method - verifyApiResponses()


 